# Text Adventure
I want this to be an LLM generate text adventure. Every character, scene, location, choice, reaction, etc 
is generated by an LLM. Each model should have it's own generator class with a custom prompt for generating that specific type. Once something has been generated, that information then gets stored and becomes
a permanent part of the world and story that is being created.

All interactions with AI should use structured schema output.

When the protagonist interacts with a character, the character should respond based on the context of their
own backstory.

For speed, I will probably need to use smaller, local models if possible.

When 

# Story
has_one :protagonist
has_many :characters - characters are generated automatically and then their story grows as the protagonist interacts with them more
has_many :locations
has_many :scenes
belongs_to :universe

log: log of 

genre:

what are the story grid components?
15 primary scenes

protagonist inner motivation
protagonist external motivation


# Universe
Governs the physical laws of the universe in which the story is told. This could be realistic, magical

- physical laws
- magic?
- aliens?
- what kind of technology exists?
- post apololyptic?



# Character
belongs_to :story
has_many :interactions # a log of the thoughts, actions and feelings of this character, if the protagonist
walks into a scene with this character but chooses not to interact with this character, that should still
generate an interaction that leaves this character with a feeling and the character can choose to take an action on it

has_many :companions # other characters that have joined the protagonist and travel with him/her
has_many :items

age:
physical_description:
sex:
race:
human or animal?
fullname:
nickname:
backstory:



- only 1 protagonist per story

# Item
physical items the character has on their person

# Interaction
protagonist: protagonist_id
character: character_id
pre_thought: what did the character think?
pre_feeling: what did the character feel?
action: what did the character do?
post_feeling: how did the character feel about taking this action? # people should sometimes act against their back story
post_thought: what did the character think about this feeling
inner_resolution: what did the character decide to do differently in the future? Example: I'm going to talk to the protagonist, OR I'm leaving to go to university OR 




# Location
has_many :scenes
has_and_belongs_to_many :locations # these are the other locations accessible from this location

everytime the protagonist visits a location a new scene gets generated

## columns
* description
* either indoors or outdoors
* lore
* last_protagonist_visit: timestamp # use this to simulate time passing without the protagonist

# Scene
Scenes need to have mix of mystery and action. Taking an action should generate a new mystery. 
Solving a mystery should cause some action.

Trying to approach and interact with anyone in the scene who is not a character should result
in that person refusing to talk to you. Or does every person in a scene become a character? I
like that idea

has_many :chats # stored conversations where the AI has generated content
belongs_to :story
belongs_to :location
has_and_belongs_to_many :characters
belongs_to :previous_scene # the last scene


## columns
* description
* choices presented
* decision
* story_timestamp # the time this happened inside the story
* summary: after the scene is completed, a summary is generated

# Event
events that are crucial to the story overall



# Interaction design (first use)
- user runs the program
- they receive a series of prompts asking them to describe the story they want to experience
    - comedy, tragedy, romance
    - realistic, fantasy, magic, etc
    - anything else we need in order set the parameters for the story
    - character name
    - character sex
- after they have entered all of these details, we generate:
    - universe
    - preface
    - first location description
    - random number of other characters for the first scene
    - first scene description to include where the other characters are in the room
- we then feed all that information back to the UI as the first scene description
- the user then enters whatever text they desire
- with the user's input we
    - determine if we can understand it
    - determine if it is allowed by the laws of the universe of the game
    - determine if they are interacting with any of the other characters in the location
    - based on the user's action, we generate a response from each other character in the room